{"code":"import React, { memo, Fragment, useState, useEffect, useCallback, useRef } from 'react';\r\nimport { RightCircleOutlined, LeftCircleOutlined } from '@ant-design/icons';\r\nimport swiperIndex from './cardSwiperIndex';\r\nimport './index.module.less';\r\nconst Swiper = (props) => {\r\n    let { imgList, pictureSize = 400, height = 240, autoPlayer, deply = 3000, showTrigger, card, } = props;\r\n    const [renderImgList, setRenderImgList] = useState(imgList);\r\n    const [propsImgList, setPropsImgList] = useState(imgList);\r\n    const [rightTransform, setRightTransform] = useState(pictureSize);\r\n    const [transition, setTransition] = useState('0.2s linear');\r\n    const [cardSwiperIndex, setCardSwiperIndex] = useState(swiperIndex[imgList.length]);\r\n    const [cardImgTransform, setCardImgTransform] = useState({\r\n        //卡片图片样式参数\r\n        leftPic: {\r\n            pos: {\r\n                left: 0,\r\n            },\r\n            width: pictureSize / 2 + 'px',\r\n            height: height - 60 + 'px',\r\n            zIndex: 2,\r\n            top: '20px',\r\n            picIndex: 0,\r\n            opacity: 0.4,\r\n        },\r\n        centerPic: {\r\n            pos: {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n                margin: 'auto',\r\n            },\r\n            width: pictureSize + 'px',\r\n            height: height + 'px',\r\n            zIndex: 5,\r\n            top: '',\r\n            picIndex: 1,\r\n            opacity: 1,\r\n        },\r\n        rightPic: {\r\n            pos: {\r\n                left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n            },\r\n            width: pictureSize / 2 + 'px',\r\n            height: height - 60 + 'px',\r\n            zIndex: 2,\r\n            top: '20px',\r\n            picIndex: 2,\r\n            opacity: 0.4,\r\n        },\r\n    });\r\n    const [cardPlayCircleIndex, setCardPlayCircleIndex] = useState(0); //  卡片轮播图小圆点下标\r\n    let timer = useRef();\r\n    let cardTimer = useRef();\r\n    useEffect(() => {\r\n        let propsImgList = JSON.parse(JSON.stringify(imgList));\r\n        setPropsImgList(imgList);\r\n        propsImgList.push(propsImgList[0]);\r\n        propsImgList.unshift(propsImgList[propsImgList.length - 2]);\r\n        setRenderImgList(propsImgList);\r\n        const imgLen = imgList.length;\r\n        setCardSwiperIndex(swiperIndex[imgLen]);\r\n    }, []);\r\n    useEffect(() => {\r\n        if (autoPlayer) {\r\n            if (card) {\r\n                requestAnimationFrame(cardAutoPlay);\r\n            }\r\n            else {\r\n                requestAnimationFrame(autoPlay);\r\n            }\r\n        }\r\n        return () => {\r\n            clearInterval(timer.current);\r\n            clearInterval(cardTimer.current);\r\n        };\r\n    }, []);\r\n    const autoPlay = () => {\r\n        //普通轮播自动播放\r\n        timer.current = setInterval(() => {\r\n            setRightTransform((o) => {\r\n                const newState = JSON.parse(JSON.stringify(o));\r\n                if (newState >= renderImgList.length * pictureSize) {\r\n                    setTransition('');\r\n                }\r\n                else {\r\n                    setTransition('0.2s linear');\r\n                }\r\n                return newState >= renderImgList.length * pictureSize ? 0 : newState + pictureSize;\r\n            });\r\n        }, deply);\r\n    };\r\n    const cardAutoPlay = () => {\r\n        //卡片图自动播放\r\n        cardTimer.current = setInterval(() => {\r\n            setCardImgTransform((old) => {\r\n                if (old.centerPic.pos.margin) {\r\n                    old.centerPic = {\r\n                        pos: {\r\n                            left: 0,\r\n                        },\r\n                        width: pictureSize / 2 + 'px',\r\n                        height: height - 60 + 'px',\r\n                        zIndex: 2,\r\n                        top: '20px',\r\n                        picIndex: 0,\r\n                        opacity: 0.4,\r\n                    };\r\n                }\r\n                else if (!old.centerPic.pos.margin && old.centerPic.pos.left == 0) {\r\n                    old.centerPic = {\r\n                        pos: {\r\n                            left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                        },\r\n                        width: pictureSize / 2 + 'px',\r\n                        height: height - 60 + 'px',\r\n                        zIndex: 2,\r\n                        top: '20px',\r\n                        picIndex: 2,\r\n                        opacity: 0.4,\r\n                    };\r\n                }\r\n                else {\r\n                    old.centerPic = {\r\n                        pos: {\r\n                            left: 0,\r\n                            right: 0,\r\n                            top: 0,\r\n                            bottom: 0,\r\n                            margin: 'auto',\r\n                        },\r\n                        width: pictureSize + 'px',\r\n                        height: height + 'px',\r\n                        zIndex: 5,\r\n                        top: '',\r\n                        picIndex: 1,\r\n                        opacity: 1,\r\n                    };\r\n                }\r\n                if (old.leftPic.pos.margin) {\r\n                    old.leftPic = {\r\n                        pos: {\r\n                            left: 0,\r\n                        },\r\n                        width: pictureSize / 2 + 'px',\r\n                        height: height - 60 + 'px',\r\n                        zIndex: 2,\r\n                        top: '20px',\r\n                        picIndex: 0,\r\n                        opacity: 0.4,\r\n                    };\r\n                }\r\n                else if (!old.leftPic.pos.margin && old.leftPic.pos.left == 0) {\r\n                    old.leftPic = {\r\n                        pos: {\r\n                            left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                        },\r\n                        width: pictureSize / 2 + 'px',\r\n                        height: height - 60 + 'px',\r\n                        zIndex: 2,\r\n                        top: '20px',\r\n                        picIndex: 2,\r\n                        opacity: 0.4,\r\n                    };\r\n                }\r\n                else {\r\n                    old.leftPic = {\r\n                        pos: {\r\n                            left: 0,\r\n                            right: 0,\r\n                            top: 0,\r\n                            bottom: 0,\r\n                            margin: 'auto',\r\n                        },\r\n                        width: pictureSize + 'px',\r\n                        height: height + 'px',\r\n                        zIndex: 5,\r\n                        top: '',\r\n                        picIndex: 1,\r\n                        opacity: 1,\r\n                    };\r\n                }\r\n                if (old.rightPic.pos.margin) {\r\n                    old.rightPic = {\r\n                        pos: {\r\n                            left: 0,\r\n                        },\r\n                        width: pictureSize / 2 + 'px',\r\n                        height: height - 60 + 'px',\r\n                        zIndex: 2,\r\n                        top: '20px',\r\n                        picIndex: 0,\r\n                        opacity: 0.4,\r\n                    };\r\n                }\r\n                else if (!old.rightPic.pos.margin && old.rightPic.pos.left == 0) {\r\n                    old.rightPic = {\r\n                        pos: {\r\n                            left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                        },\r\n                        width: pictureSize / 2 + 'px',\r\n                        height: height - 60 + 'px',\r\n                        zIndex: 2,\r\n                        top: '20px',\r\n                        picIndex: 2,\r\n                        opacity: 0.4,\r\n                    };\r\n                }\r\n                else {\r\n                    old.rightPic = {\r\n                        pos: {\r\n                            left: 0,\r\n                            right: 0,\r\n                            top: 0,\r\n                            bottom: 0,\r\n                            margin: 'auto',\r\n                        },\r\n                        width: pictureSize + 'px',\r\n                        height: height + 'px',\r\n                        zIndex: 5,\r\n                        top: '',\r\n                        picIndex: 1,\r\n                        opacity: 1,\r\n                    };\r\n                }\r\n                return JSON.parse(JSON.stringify(old));\r\n            });\r\n            setCardSwiperIndex((old) => {\r\n                old.push(old[0]);\r\n                old.shift();\r\n                return JSON.parse(JSON.stringify(old));\r\n            });\r\n            setCardPlayCircleIndex((old) => {\r\n                if (old >= cardSwiperIndex.length - 1) {\r\n                    return 0;\r\n                }\r\n                return old + 1;\r\n            });\r\n        }, deply);\r\n    };\r\n    const toggleNext = () => {\r\n        if (rightTransform >= (renderImgList.length - 2) * pictureSize) {\r\n            setTransition('');\r\n            setRightTransform(0);\r\n            setTimeout(() => {\r\n                setTransition('0.2s linear');\r\n                setRightTransform(pictureSize);\r\n            }, 0);\r\n        }\r\n        else {\r\n            setRightTransform(rightTransform + pictureSize);\r\n        }\r\n    };\r\n    const togglePrev = () => {\r\n        if (rightTransform <= 0) {\r\n            setTransition('');\r\n            setRightTransform((renderImgList.length - 2) * pictureSize);\r\n            setTimeout(() => {\r\n                setTransition('0.2s linear');\r\n                setRightTransform((renderImgList.length - 2) * pictureSize - pictureSize);\r\n            }, 0);\r\n        }\r\n        else {\r\n            setRightTransform(rightTransform - pictureSize);\r\n        }\r\n    };\r\n    const clickToggle = (index) => {\r\n        setRightTransform((index + 1) * pictureSize);\r\n    };\r\n    const circleStyle = useCallback((index) => {\r\n        //点击普通轮播图小圆点\r\n        if (rightTransform == pictureSize && index == 0) {\r\n            return 'option-active';\r\n        }\r\n        else if (rightTransform == 0 && index == renderImgList.length - 3) {\r\n            return 'option-active';\r\n        }\r\n        else {\r\n            if (rightTransform / pictureSize - 1 == index) {\r\n                return 'option-active';\r\n            }\r\n        }\r\n        return 'option';\r\n    }, [rightTransform]);\r\n    const cardImgStyle = useCallback((option) => {\r\n        //卡片式轮播图片样式\r\n        if (option == 0) {\r\n            //center\r\n            return Object.assign(Object.assign({ width: cardImgTransform.centerPic.width }, cardImgTransform.centerPic.pos), { height: cardImgTransform.centerPic.height, zIndex: cardImgTransform.centerPic.zIndex, top: cardImgTransform.centerPic.top, opacity: cardImgTransform.centerPic.opacity });\r\n        }\r\n        else if (option == 1) {\r\n            //left\r\n            return Object.assign(Object.assign({ width: cardImgTransform.leftPic.width }, cardImgTransform.leftPic.pos), { height: cardImgTransform.leftPic.height, zIndex: cardImgTransform.leftPic.zIndex, top: cardImgTransform.leftPic.top, opacity: cardImgTransform.leftPic.opacity });\r\n        }\r\n        else if (option == 2) {\r\n            //right\r\n            return Object.assign(Object.assign({ width: cardImgTransform.rightPic.width }, cardImgTransform.rightPic.pos), { height: cardImgTransform.rightPic.height, zIndex: cardImgTransform.rightPic.zIndex, top: cardImgTransform.rightPic.top, opacity: cardImgTransform.rightPic.opacity });\r\n        }\r\n    }, [cardImgTransform]);\r\n    const toggleCard = (styles) => {\r\n        //卡片轮播手动切换\r\n        if (styles.zIndex == 2 && styles.left !== 0) {\r\n            //点击next\r\n            const oldCardImgTransform = Object.assign({}, cardImgTransform);\r\n            if (oldCardImgTransform.centerPic.pos.margin) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.centerPic.pos.margin &&\r\n                oldCardImgTransform.centerPic.pos.left == 0) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.leftPic.pos.margin) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.leftPic.pos.margin &&\r\n                oldCardImgTransform.leftPic.pos.left == 0) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.rightPic.pos.margin) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.rightPic.pos.margin &&\r\n                oldCardImgTransform.rightPic.pos.left == 0) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            setCardImgTransform(oldCardImgTransform);\r\n            const oldCardSwiperIndex = [...cardSwiperIndex];\r\n            oldCardSwiperIndex.push(oldCardSwiperIndex.shift());\r\n            setCardSwiperIndex(oldCardSwiperIndex);\r\n            setCardPlayCircleIndex((old) => {\r\n                if (old >= cardSwiperIndex.length - 1) {\r\n                    return 0;\r\n                }\r\n                return old + 1;\r\n            });\r\n        }\r\n        else if (styles.zIndex == 2 && styles.left == 0) {\r\n            //点击prev，中间图往右，右图往左，左图往中\r\n            const oldCardImgTransform = Object.assign({}, cardImgTransform);\r\n            if (oldCardImgTransform.centerPic.pos.margin) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.centerPic.pos.margin &&\r\n                oldCardImgTransform.centerPic.pos.left == 0) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.leftPic.pos.margin) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.leftPic.pos.margin &&\r\n                oldCardImgTransform.leftPic.pos.left == 0) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.rightPic.pos.margin) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.rightPic.pos.margin &&\r\n                oldCardImgTransform.rightPic.pos.left == 0) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            setCardImgTransform(oldCardImgTransform);\r\n            const oldCardSwiperIndex = [...cardSwiperIndex];\r\n            oldCardSwiperIndex.unshift(oldCardSwiperIndex[oldCardSwiperIndex.length - 1]);\r\n            oldCardSwiperIndex.pop();\r\n            setCardSwiperIndex(oldCardSwiperIndex);\r\n            setCardPlayCircleIndex((old) => {\r\n                if (old - 1 < 0) {\r\n                    return cardSwiperIndex.length - 1;\r\n                }\r\n                return old - 1;\r\n            });\r\n        }\r\n    };\r\n    const clickCardToggle = (index) => {\r\n        //点击卡片轮播图小圆点\r\n        if (cardPlayCircleIndex < index) {\r\n            setCardPlayCircleIndex(index);\r\n            const oldCardImgTransform = Object.assign({}, cardImgTransform);\r\n            if (oldCardImgTransform.centerPic.pos.margin) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.centerPic.pos.margin &&\r\n                oldCardImgTransform.centerPic.pos.left == 0) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.leftPic.pos.margin) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.leftPic.pos.margin &&\r\n                oldCardImgTransform.leftPic.pos.left == 0) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.rightPic.pos.margin) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.rightPic.pos.margin &&\r\n                oldCardImgTransform.rightPic.pos.left == 0) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            setCardImgTransform(oldCardImgTransform);\r\n            setCardSwiperIndex((old) => {\r\n                old.sort((a, b) => a[0] - b[0]);\r\n                for (let i = 0; i < index; i++) {\r\n                    old.push(old.shift());\r\n                }\r\n                return JSON.parse(JSON.stringify(old));\r\n            });\r\n        }\r\n        else if (cardPlayCircleIndex > index) {\r\n            setCardPlayCircleIndex(index);\r\n            const oldCardImgTransform = Object.assign({}, cardImgTransform);\r\n            if (oldCardImgTransform.centerPic.pos.margin) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.centerPic.pos.margin &&\r\n                oldCardImgTransform.centerPic.pos.left == 0) {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.centerPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.leftPic.pos.margin) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.leftPic.pos.margin &&\r\n                oldCardImgTransform.leftPic.pos.left == 0) {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.leftPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            if (oldCardImgTransform.rightPic.pos.margin) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: pictureSize * 2 - 40 - pictureSize / 2 + 'px',\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 2,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            else if (!oldCardImgTransform.rightPic.pos.margin &&\r\n                oldCardImgTransform.rightPic.pos.left == 0) {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                        right: 0,\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        margin: 'auto',\r\n                    },\r\n                    width: pictureSize + 'px',\r\n                    height: height + 'px',\r\n                    zIndex: 5,\r\n                    top: '',\r\n                    picIndex: 1,\r\n                    opacity: 1,\r\n                };\r\n            }\r\n            else {\r\n                oldCardImgTransform.rightPic = {\r\n                    pos: {\r\n                        left: 0,\r\n                    },\r\n                    width: pictureSize / 2 + 'px',\r\n                    height: height - 60 + 'px',\r\n                    zIndex: 2,\r\n                    top: '20px',\r\n                    picIndex: 0,\r\n                    opacity: 0.4,\r\n                };\r\n            }\r\n            setCardImgTransform(oldCardImgTransform);\r\n            setCardSwiperIndex((old) => {\r\n                old.sort((a, b) => a[0] - b[0]);\r\n                for (let i = 0; i < old.length; i++) {\r\n                    if (old[i] == cardSwiperIndex[index]) {\r\n                        break;\r\n                    }\r\n                    else {\r\n                        old.push(old.shift());\r\n                    }\r\n                }\r\n                return JSON.parse(JSON.stringify(old));\r\n            });\r\n        }\r\n    };\r\n    return (React.createElement(Fragment, null, !card ? (React.createElement(\"div\", { className: \"swipers\", style: { width: pictureSize + 'px', height: height + 'px' } },\r\n        React.createElement(\"div\", { className: \"swiperList\", style: {\r\n                right: rightTransform + 'px',\r\n                transition: transition,\r\n                width: pictureSize * renderImgList.length + 'px',\r\n            } }, renderImgList.map((img, index) => {\r\n            return (React.createElement(\"img\", { key: index, className: \"swiper-img\", style: { width: pictureSize + 'px', height: height + 'px' }, src: img }));\r\n        })),\r\n        React.createElement(\"div\", { className: \"prev-btn\", onClick: togglePrev },\r\n            React.createElement(LeftCircleOutlined, null)),\r\n        React.createElement(\"div\", { className: \"next-btn\", onClick: toggleNext },\r\n            React.createElement(RightCircleOutlined, null)),\r\n        showTrigger && (React.createElement(\"div\", { className: \"menu-options\" }, new Array(imgList.length).fill('').map((o, i) => {\r\n            return (React.createElement(\"div\", { key: i, className: circleStyle(i), onClick: () => clickToggle(i) }));\r\n        }))))) : (React.createElement(\"div\", { className: \"card-swiper\", style: { height: height + 'px', width: pictureSize * 2 + 'px' } },\r\n        React.createElement(\"div\", { className: \"center-pic\", style: { width: pictureSize * 2 - 40 + 'px', height: height + 'px' } },\r\n            React.createElement(\"img\", { src: propsImgList[cardSwiperIndex[0][cardImgTransform.centerPic.picIndex]], style: cardImgStyle(0), className: \"center\", onClick: () => toggleCard(cardImgStyle(0)) }),\r\n            React.createElement(\"img\", { src: propsImgList[cardSwiperIndex[0][cardImgTransform.leftPic.picIndex]], style: cardImgStyle(1), className: \"left\", onClick: () => toggleCard(cardImgStyle(1)) }),\r\n            React.createElement(\"img\", { src: propsImgList[cardSwiperIndex[0][cardImgTransform.rightPic.picIndex]], style: cardImgStyle(2), className: \"right\", onClick: () => toggleCard(cardImgStyle(2)) })),\r\n        showTrigger && (React.createElement(\"div\", { className: \"menu-options\" }, new Array(propsImgList.length).fill('').map((o, i) => {\r\n            return (React.createElement(\"div\", { key: i, className: i == cardPlayCircleIndex ? 'option-active' : 'option', onClick: () => clickCardToggle(i) }));\r\n        })))))));\r\n};\r\nexport default memo(Swiper);\r\n","references":["/Users/sjq/Desktop/study/concis/Concis/node_modules/@types/react/index.d.ts","/Users/sjq/Desktop/study/concis/Concis/node_modules/@ant-design/icons/lib/index.d.ts","/Users/sjq/Desktop/study/concis/Concis/packages/concis-react/src/Swiper/cardSwiperIndex.ts"]}
